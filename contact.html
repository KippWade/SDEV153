<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A website of Disney related book reviews">
    <title>Mouse Books - Send Comment</title>
    <link rel="stylesheet" href="site.css">
</head>
<body>
    <header role="banner" style="height: 15vh;">
        <a href="./index.html" ><img src="assets/Mousebooks.png" ></a>
    </header>
    <nav aria-label="Main navigation" style="height: 5vh;">
        <a href="./index.html" >Home</a>
        <a href="./about.html" >About</a>
        <a href="./books.html">Books</a>
        <a href="./contact.html" aria-current="page">Contact</a>
    </nav>
    <main id="main-content" role="main" style="height: 65vh; max-height: 65vh; overflow-y:scroll">
        <section aria-labelledby="welcome-heading">
<div class="container">
        <div class="form-container">
            <h2 id="welcome-heading">Send us a comment</h2>
                <form id="commentForm" onsubmit="handleSubmit(event)">
                <div class="form-group">
                            <label for="firstName">First Name:</label>
                            <input type="text" id="firstName" name="firstName" required>
                            <span class="error" id="firstNameError">Please enter a valid first name (letters only).</span>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name:</label>
                            <input type="text" id="lastName" name="lastName" required>
                            <span class="error" id="lastNameError">Please enter a valid last name (letters only).</span>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address:</label>
                            <input type="email" id="email" name="email" required>
                            <span class="error" id="emailError">Please enter a valid email address.</span>
                        </div>
                        <div class="form-group">
                            <label for="comment">Comment:</label>
                            <textarea id="comment" name="comment" rows="4" required></textarea>
                            <span class="error" id="commentError">Please enter a comment.</span>
                        </div>
                        <div class="checkbox-group">
                            <label>Receive updates</label>
                            <input type="checkbox" name="updates" value="yes">
                        </div>
                        <button type="submit">Submit</button>
            </form>
        </div>
        <div id="output"></div>
    </div>

    <script>
        function validateName(name) {
            return /^[a-zA-Z\s-]+$/.test(name) && name.trim().length > 0;
        }

        function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function validateComment(comment) {
            return comment.trim().length > 0;
        }

        function showError(fieldId, message, show) {
            const errorElement = document.getElementById(`${fieldId}Error`);
            errorElement.textContent = message;
            errorElement.classList.toggle('show', show);
        }

        function validateField(fieldId, validator, errorMessage) {
            const field = document.getElementById(fieldId);
            field.addEventListener('input', () => {
                const isValid = validator(field.value);
                showError(fieldId, errorMessage, !isValid);
            });
            field.addEventListener('blur', () => {
                const isValid = validator(field.value);
                showError(fieldId, errorMessage, !isValid);
            });
        }
        validateField('firstName', validateName, 'Please enter a valid first name (must only contain letters).');
        validateField('lastName', validateName, 'Please enter a valid last name (must only contain letters).');
        validateField('email', validateEmail, 'Please enter a valid email address.');
        validateField('comment', validateComment, 'Please enter a comment.');

        function isFormValid() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const comment = document.getElementById('comment').value;

            const isFirstNameValid = validateName(firstName);
            const isLastNameValid = validateName(lastName);
            const isEmailValid = validateEmail(email);
            const isCommentValid = validateComment(comment);

            showError('firstName', 'Please enter a valid first name (must only contain letters).', !isFirstNameValid);
            showError('lastName', 'Please enter a valid last name (must only contain letters).', !isLastNameValid);
            showError('email', 'Please enter a valid email address.', !isEmailValid);
            showError('comment', 'Please enter a comment.', !isCommentValid);

            return isFirstNameValid && isLastNameValid && isEmailValid && isCommentValid;
        }
     
        function handleSubmit(event) {
            event.preventDefault();
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const email = document.getElementById('email').value;
            const comment = document.getElementById('comment').value;
            const updates = document.querySelector('input[name="updates"]').checked ? 'Yes' : 'No';
            const outputDiv = document.getElementById('output');
            outputDiv.innerHTML = `
                <h3>Submitted Values:</h3>
                <p><strong>First Name:</strong> ${firstName}</p>
                <p><strong>Last Name:</strong> ${lastName}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Comment:</strong> ${comment}</p>
                <p><strong>Receive Updates:</strong> ${updates}</p>
            `;
            outputDiv.style.display = 'block'; // Show the output
            document.getElementById('commentForm').reset();
            ['firstName', 'lastName', 'email', 'comment'].forEach(fieldId => {
                showError(fieldId, '', false);
            });
        }
    </script>
    </section>    
    </main>
    <footer role="contentinfo" style="height: 1vh;">
        <p>&copy; 2025 Mouse Books. All rights reserved.</p>
    </footer>
</body>
</html>
